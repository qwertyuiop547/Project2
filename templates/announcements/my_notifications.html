{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "My Notifications" %}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2>{% trans "My Announcement Notifications" %}</h2>
        
        {% if page_obj %}
        <div class="list-group">
            {% for notification in page_obj %}
            <a href="{% url 'announcements:announcement_detail' notification.announcement.pk %}" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ notification.announcement.title }}</h5>
                    <small>{{ notification.created_at|date:"M d, Y" }}</small>
                </div>
                <p class="mb-1">{{ notification.announcement.content|truncatewords:20 }}</p>
                {% if notification.is_read %}
                <span class="badge bg-secondary">{% trans "Read" %}</span>
                {% else %}
                <span class="badge bg-primary">{% trans "New" %}</span>
                {% endif %}
            </a>
            {% endfor %}
        </div>
        
        <!-- Pagination -->
        {% if page_obj.has_other_pages %}
        <nav class="mt-3">
            <ul class="pagination">
                {% if page_obj.has_previous %}
                <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">{% trans "Previous" %}</a></li>
                {% endif %}
                <li class="page-item active"><span class="page-link">{{ page_obj.number }}</span></li>
                {% if page_obj.has_next %}
                <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">{% trans "Next" %}</a></li>
                {% endif %}
            </ul>
        </nav>
        {% endif %}
        {% else %}
        <div class="alert alert-info">{% trans "No notifications." %}</div>
        {% endif %}
    </div>
</div>
{% endblock %}

